{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';// üëà L·∫•y ID t·ª´ URL\nimport'./Product.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Product=()=>{var _product$images,_product$images2,_product$availableCol,_product$availableSiz;const{id}=useParams();// üëà /product/:id\nconst[product,setProduct]=useState(null);const[quantity,setQuantity]=useState(1);const[selectedSize,setSelectedSize]=useState('');const[selectedColor,setSelectedColor]=useState('');useEffect(()=>{// G·ªçi API l·∫•y chi ti·∫øt s·∫£n ph·∫©m\nfetch(`https://localhost:7193/api/SanPham/${id}`).then(res=>res.json()).then(data=>{var _data$availableSizes,_data$availableColors;setProduct(data);// Kh·ªüi t·∫°o gi√° tr·ªã m·∫∑c ƒë·ªãnh\nsetSelectedSize((data===null||data===void 0?void 0:(_data$availableSizes=data.availableSizes)===null||_data$availableSizes===void 0?void 0:_data$availableSizes[0])||'');setSelectedColor((data===null||data===void 0?void 0:(_data$availableColors=data.availableColors)===null||_data$availableColors===void 0?void 0:_data$availableColors[0])||'');}).catch(err=>console.error('Error loading product:',err));},[id]);const handleQuantityChange=type=>{setQuantity(prev=>type==='inc'?prev+1:prev>1?prev-1:1);};if(!product)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"product-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-images\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail-images\",children:(_product$images=product.images)===null||_product$images===void 0?void 0:_product$images.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:img,alt:`Thumbnail ${idx+1}`},idx))}),/*#__PURE__*/_jsx(\"div\",{className:\"main-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.mainImage||((_product$images2=product.images)===null||_product$images2===void 0?void 0:_product$images2[0]),alt:\"Main Product\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsx(\"div\",{className:\"product-rating\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2B50\\uFE0F\\u2B50\\uFE0F\\u2B50\\uFE0F\\u2B50\\uFE0F\\u2B50\\uFE0F \",product.rating||'4.5/5']})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"current-price\",children:[\"$\",product.price]}),product.originalPrice&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"original-price\",children:[\"$\",product.originalPrice]}),/*#__PURE__*/_jsxs(\"span\",{className:\"discount\",children:[\"-\",Math.round(100-product.price/product.originalPrice*100),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Select Colors\"}),/*#__PURE__*/_jsx(\"div\",{className:\"color-options\",children:(_product$availableCol=product.availableColors)===null||_product$availableCol===void 0?void 0:_product$availableCol.map(color=>/*#__PURE__*/_jsx(\"button\",{className:selectedColor===color?'active':'',onClick:()=>setSelectedColor(color)},color))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sizes\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Choose Size\"}),/*#__PURE__*/_jsx(\"div\",{className:\"size-options\",children:(_product$availableSiz=product.availableSizes)===null||_product$availableSiz===void 0?void 0:_product$availableSiz.map(size=>/*#__PURE__*/_jsx(\"button\",{className:selectedSize===size?'active':'',onClick:()=>setSelectedSize(size),children:size},size))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-to-cart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-selector\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange('dec'),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange('inc'),children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"cart-button\",children:\"Add to Cart\"})]})]})]});};export default Product;","map":{"version":3,"names":["React","useEffect","useState","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Product","_product$images","_product$images2","_product$availableCol","_product$availableSiz","id","product","setProduct","quantity","setQuantity","selectedSize","setSelectedSize","selectedColor","setSelectedColor","fetch","then","res","json","data","_data$availableSizes","_data$availableColors","availableSizes","availableColors","catch","err","console","error","handleQuantityChange","type","prev","children","className","images","map","img","idx","src","alt","mainImage","name","rating","price","originalPrice","Math","round","description","color","onClick","size"],"sources":["D:/Sturdy/web_and_aplication/xdpmWeb/web-clothing/src/components/Product/Product.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom'; // üëà L·∫•y ID t·ª´ URL\nimport './Product.css';\n\nconst Product = () => {\n  const { id } = useParams(); // üëà /product/:id\n  const [product, setProduct] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [selectedSize, setSelectedSize] = useState('');\n  const [selectedColor, setSelectedColor] = useState('');\n\n  useEffect(() => {\n    // G·ªçi API l·∫•y chi ti·∫øt s·∫£n ph·∫©m\n    fetch(`https://localhost:7193/api/SanPham/${id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setProduct(data);\n        // Kh·ªüi t·∫°o gi√° tr·ªã m·∫∑c ƒë·ªãnh\n        setSelectedSize(data?.availableSizes?.[0] || '');\n        setSelectedColor(data?.availableColors?.[0] || '');\n      })\n      .catch((err) => console.error('Error loading product:', err));\n  }, [id]);\n\n  const handleQuantityChange = (type) => {\n    setQuantity((prev) => (type === 'inc' ? prev + 1 : prev > 1 ? prev - 1 : 1));\n  };\n\n  if (!product) return <div>Loading...</div>;\n\n  return (\n    <div className=\"product-container\">\n      <div className=\"product-images\">\n        <div className=\"thumbnail-images\">\n          {product.images?.map((img, idx) => (\n            <img key={idx} src={img} alt={`Thumbnail ${idx + 1}`} />\n          ))}\n        </div>\n        <div className=\"main-image\">\n          <img src={product.mainImage || product.images?.[0]} alt=\"Main Product\" />\n        </div>\n      </div>\n\n      <div className=\"product-details\">\n        <h1>{product.name}</h1>\n        <div className=\"product-rating\">\n          <span>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è {product.rating || '4.5/5'}</span>\n        </div>\n        <div className=\"product-price\">\n          <span className=\"current-price\">${product.price}</span>\n          {product.originalPrice && (\n            <>\n              <span className=\"original-price\">${product.originalPrice}</span>\n              <span className=\"discount\">\n                -{Math.round(100 - (product.price / product.originalPrice) * 100)}%\n              </span>\n            </>\n          )}\n        </div>\n        <p className=\"product-description\">{product.description}</p>\n\n        <div className=\"product-options\">\n          <div className=\"colors\">\n            <span>Select Colors</span>\n            <div className=\"color-options\">\n              {product.availableColors?.map((color) => (\n                <button\n                  key={color}\n                  className={selectedColor === color ? 'active' : ''}\n                  onClick={() => setSelectedColor(color)}\n                />\n              ))}\n            </div>\n          </div>\n\n          <div className=\"sizes\">\n            <span>Choose Size</span>\n            <div className=\"size-options\">\n              {product.availableSizes?.map((size) => (\n                <button\n                  key={size}\n                  className={selectedSize === size ? 'active' : ''}\n                  onClick={() => setSelectedSize(size)}\n                >\n                  {size}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"add-to-cart\">\n          <div className=\"quantity-selector\">\n            <button onClick={() => handleQuantityChange('dec')}>-</button>\n            <span>{quantity}</span>\n            <button onClick={() => handleQuantityChange('inc')}>+</button>\n          </div>\n          <button className=\"cart-button\">Add to Cart</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}